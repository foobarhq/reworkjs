(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{dJzC:function(e,t,n){"use strict";n.r(t),n.d(t,"_frontmatter",(function(){return i})),n.d(t,"default",(function(){return c}));n("5hJT"),n("W1QL"),n("K/PF"),n("t91x"),n("75LO"),n("PJhk"),n("mXGw");var a=n("/FXl"),r=n("TjRS");n("aD51");function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var i={};void 0!==i&&i&&i===Object(i)&&Object.isExtensible(i)&&!i.hasOwnProperty("__filemeta")&&Object.defineProperty(i,"__filemeta",{configurable:!0,value:{name:"_frontmatter",filename:"docs/6-page-head.md"}});var l={_frontmatter:i},s=r.a;function c(e){var t=e.components,n=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,["components"]);return Object(a.b)(s,o({},l,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)("h1",{id:"page-metadata"},"Page Metadata"),Object(a.b)("h2",{id:"runtime-metadata"},"Runtime metadata"),Object(a.b)("p",null,"Setting the page metadata is handled by ",Object(a.b)("a",o({parentName:"p"},{href:"https://github.com/staylor/react-helmet-async"}),Object(a.b)("inlineCode",{parentName:"a"},"react-helmet-async")),".\nThere is no need to setup it, simply start using it!"),Object(a.b)("pre",null,Object(a.b)("code",o({parentName:"pre"},{className:"language-typescript",metastring:"jsx",jsx:!0}),"// pages/home/home.view.tsx\n\nimport * as React from 'react';\nimport { Helmet } from 'react-helmet-async';\n\nexport default function HomeView() {\n  return (\n    <>\n      <Helmet>\n        <title>HomePage | MyCoolSite</title>\n      </Helmet>\n\n      <p>Welcome to my cool site</p>\n    </>\n  );\n}\n")),Object(a.b)("h2",{id:"static-metadata"},"Static metadata"),Object(a.b)("p",null,"Sometimes, you need to send metadata even if JavaScript is disabled, or before any JavaScript executes."),Object(a.b)("p",null,"If you use Server-Side-Rendering, the HTML sent by the server will contain all the metadata provided by Helmet.",Object(a.b)("br",{parentName:"p"}),"\n","If you don't use SSR, you can still send some metadata by modifying the base ",Object(a.b)("inlineCode",{parentName:"p"},"index.html")," file."),Object(a.b)("p",null,Object(a.b)("em",{parentName:"p"},"Note"),": Without SSR, ",Object(a.b)("inlineCode",{parentName:"p"},"index.html")," is built only once and used for all pages. With SSR, it is rebuilt for each page."),Object(a.b)("p",null,Object(a.b)("em",{parentName:"p"},"Setup"),":"),Object(a.b)("p",null,"In the following example, we're adding Google Tag Manager on all pages"),Object(a.b)("p",null,"First you need to tell the framework to ",Object(a.b)("a",o({parentName:"p"},{href:"https://www.reworkjs.com/configuration#render-html"}),"use a custom html file generator"),":"),Object(a.b)("pre",null,Object(a.b)("code",o({parentName:"pre"},{className:"language-json5"}),'// .reworkrc\n{\n  "render-html": "./src/render-html.js"\n}\n')),Object(a.b)("pre",null,Object(a.b)("code",o({parentName:"pre"},{className:"language-javascript"}),"// src/render-html.js\n\n// note: this file is loaded by the builder itself, it needs to be valid JavaScript for your current version of Node.\n// \"data\" contains the metadata generated by helmet & the framework\nmodule.exports = function renderHtml(data) {\n\n  return `\n<!DOCTYPE html>\n<html ${data.htmlAttributes}>\n<head>\n  ${data.head}\n\n  \x3c!-- Google Tag Manager --\x3e\n  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n  })(window,document,'script','dataLayer','xxx');<\/script>\n  \x3c!-- End Google Tag Manager --\x3e\n</head>\n<body ${data.bodyAttributes}>\n  \x3c!-- Google Tag Manager (noscript) --\x3e\n  <noscript>\n    <iframe\n      src=\"https://www.googletagmanager.com/ns.html?id=xxx\"\n      height=\"0\"\n      width=\"0\"\n      style=\"display:none;visibility:hidden\"\n    ></iframe>\n  </noscript>\n  \x3c!-- End Google Tag Manager (noscript) --\x3e\n  \n  ${data.body}\n</body>\n</html>\n  `;\n};\n")))}c&&c===Object(c)&&Object.isExtensible(c)&&!c.hasOwnProperty("__filemeta")&&Object.defineProperty(c,"__filemeta",{configurable:!0,value:{name:"MDXContent",filename:"docs/6-page-head.md"}}),c.isMDXComponent=!0}}]);
//# sourceMappingURL=component---docs-6-page-head-md-a7dc74e2be032ce9cb00.js.map